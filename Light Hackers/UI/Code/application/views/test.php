<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Geocoding service</title>
    <link href="http://code.google.com//apis/maps/documentation/javascript/examples/default.css" rel="stylesheet">
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
    <script>
		var geocoder;
		var map;
		//var locationsArray = ['Pittsburgh','Chicago', 'Atlanta'];

		function plotMarkers(){
			for(var i = 0; i < locationsArray.length; i++){			
			  codeAddresses(locationsArray[i]);			
			}
		}
		
		function initialize() {
		  geocoder = new google.maps.Geocoder();
		  var latlng = new google.maps.LatLng(22.024545601240337, 80.9912109375);
		  var mapOptions = {
		    zoom: 3,
		    center: latlng,
		    mapTypeId: google.maps.MapTypeId.ROADMAP
		  }
		  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
		}
		
		function test(){
			//alert("Test");
			//var locationsArray = ['Mumbai','Pune', 'Nagpur','Coimbatore','Lucknow','Jaipur','Madras','Nashik','Calcutta','Junagadh','Dhanbad','Rajkot',];			
			//teams from across india
			//var locationsArray = ['781013','813210','534204','812006','577201','400022','626005','606611','641107','630561','400037','641035','531162','637018','642003','410201','620015','441108','641043','682039','411048','534101','412409','637504','613303','400706','638052','641032','560019','110007','533461','413133','601206','603103','400095','491001','415639','411052','400614','580002','641103','400053','403401','425001','600055','686518','602025','695016','629003','600119','425203','410210','364002','560085','700032','560049','147301','641109','444203','400103','641022','411001','400056','522213','110053','387001','669711','400018','400059','641402','440016','211001','453441','636113','243123','560024','576119','604410','416115','506331','411018','637408','500059','382044','226026','641004','686532','482011','637209','678551','246174','613401','360005','682311','506004','731101','600069','411046','680312','110020','416101','560008','506332','500014','400071','400008','492010','577204','522502','673601','638401','400073','641008','382015','622305','422213','826004','506005','403726','770017','765022','382424','382010','506167','590008','140401','160012','360001','560012','444306','400603','144027','602105','391510','560068','203207','680009','603104','431605','201301','560054','201007','211010','401107','500075','411009','400050','682022','412105','382028','247001','761008','140601','121002','416004','201206','388421','637503','572216','303101','110063','400019','500001','500078','737139','301705','673636','690568','410207','416304','388120','631502','670632','416415','425524','686579','641013','422608','110006','382721','425002','229001','456006','110042','600089','134203','785010','600054','560091','682313','700058','400049','175018','482005','400077','533437','751007','769008','121006','752054','400074','411041','600024','425409','462042','110058','583104','518543','110045','302017','400058','560100','412115','403722','400708','410209','201313','621105','160014','400101','313301','570008','444604','560001','441110','560070','400016','422003','560059','401303','122413','591113','144601','799055','210306','402103','147004','560056','263145','110015','603203','501506','751024','500008','136119','711204','521230','476444','462021','144011','410206','508284','456010','123401','530048','182121','135133','110019','490020','530041','688504','402111','590014','560107','580031','121001','304022','110088','160019','784028','560061','422105','501359','182320','400709','152107'];
			var locationsArray = ['781013',   '577201',   '400022',   '606611',   '630561',   '400037',   '641035',   '620015',   '441108',   '531162',   '682039',   '411048',   '412409',   '637504',   '637018',   '613303',   '400706',   '641032',   '560019',   '110007',   '641107',   '533461',   '413133',   '601206',   '603103',   '400095',   '415639',   '626005',   '400053',   '425001',   '686518',   '695016',   '629003',   '425203',   '410210',   '364002',   '560085',   '534101',   '700032',   '560049',   '641109',   '444203',   '400103',   '641022',   '411001',   '400056',   '522213',   '600055',   '110053',   '387001',   '669711',   '400018',   '641402',   '440016',   '211001',   '636113',   '560024',   '576119',   '638052',   '416115',   '411018',   '637408',   '500059',   '382044',   '403401',   '226026',   '641004',   '637209',   '246174',   '613401',   '602025',   '360005',   '682311',   '506004',   '731101',   '680312',   '110020',   '416101',   '560008',   '506332',   '410201',   '400071',   '577204',   '673601',   '686532',   '400073',   '641008',   '400703',   '452017',   '411044',   '641014',   '441501',   '641103',   '622305',   '422213',   '506005',   '400614',   '403726',   '770017',   '382424',   '765022',   '382010',   '590008',   '140401',   '160012',   '360001',   '560012',   '444306',   '144027',   '391510',   '560068',   '203207',   '680009',   '201301',   '560054',   '201007',   '211010',   '401107',   '500075',   '411009',   '400050',   '482011',   '682022',   '412105',   '382028',   '247001',   '761008',   '140601',   '602105',   '416004',   '201206',   '572216',   '303101',   '110063',   '400019',   '737139',   '301705',   '410207',   '416304',   '388120',   '631502',   '670632',   '121002',   '416415',   '400603',   '400008',   '453441',   '686579',   '500078',   '422608',   '110006',   '826004',   '425002',   '229001',   '110042',   '600089',   '638401',   '134203',   '580002',   '785010',   '388421',   '560091',   '400049',   '500001',   '175018',   '482005',   '400077',   '533437',   '751007',   '769008',   '752054',   '400074',   '411041',   '425409',   '641043',   '500014',   '110058',   '583104',   '518543',   '110045',   '302017',   '400058',   '560100',   '412115',   '403722',   '400708',   '410209',   '201313',   '160014',   '400101',   '570008',   '560001',   '441110',   '560070',   '313301',   '422003',   '560059',   '401303',   '122413',   '591113',   '144601',   '799055',   '210306',   '147004',   '560056',   '263145',   '121006',   '501506',   '751024',   '500008',   '136119',   '711204',   '521230',   '476444',   '431605',   '462021',   '144011',   '410206',   '123401',   '530048',   '135133',   '110019',   '182121',   '490020',   '530041',   '688504',   '402111',   '590014',   '580031',   '121001',   '682313',   '304022',   '110088',   '784028',   '560061',   '501359',   '182320',   '152107'];	
			for(var i = 0; i < locationsArray.length; i++){
			  codeAddress(locationsArray[i]);
			}			
		}
		
		function codeAddress(address) {
		  //var address = document.getElementById('address').value;
		  //alert(address);
		  geocoder.geocode( { 'address': address}, function(results, status) {
		    if (status == google.maps.GeocoderStatus.OK) {
		      map.setCenter(results[0].geometry.location);
		      var marker = new google.maps.Marker({
		          map: map,		          
		          position: results[0].geometry.location
		      });
		    } else if (status === google.maps.GeocoderStatus.OVER_QUERY_LIMIT) {    
            		setTimeout(function() {	codeAddress(address); }, 200);
        	} else {
		      alert('Geocode was not successful for the following reason: ' + status);
		    }
		  });
		}
		
		function codeAddress1() {
		  var address = document.getElementById('address').value;		  
		  geocoder.geocode( { 'address': address , 'country': 'india'}, function(results, status) {
		    if (status == google.maps.GeocoderStatus.OK) {
		      map.setCenter(results[0].geometry.location);
		      var marker = new google.maps.Marker({
		          map: map,
		          position: results[0].geometry.location
		      });
		    } else {
		      alert('Geocode was not successful for the following reason: ' + status);
		    }
		  });
		}	
		google.maps.event.addDomListener(window, 'load', initialize);

    </script>
  </head>
  <body onload="javascript:test()">
    <div id="panel">
      <input id="address" type="textbox" value="Sydney, NSW">
      <input type="button" value="Geocode" onclick="codeAddress1()">
    </div>
    <div id="map-canvas"></div>
  </body>
</html>

